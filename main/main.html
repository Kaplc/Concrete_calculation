<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>混凝土计算器</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
    <div id="app">
        <div id="title">
            <h1 style="text-align: center;">《混凝土设计》计算器</h1>
            <h6 style="text-align: right;">v0.02 dev</h6>
            <hr>
        </div>

        <div id="setting">
            <h3>输入参数:</h3>  
            <div>
                <span>环境等级:&#160&#160&#160</span>
                <select name="" id="">
                    <option value="1">一级</option>
                </select>
                <span>&#160&#160&#160 使用位置:</span>
                <select name="" id="">
                    <option value="">梁</option>
                </select>
                <span>&#160&#160&#160 h x b:</span>
            <input type="text" name="height" id="h" style="width: 30px;">mm&#160 x
            <input type="text" name="width" id="b" style="width: 30px;">mm
            </div>

            
            <div>
            <span>混凝土强度: </span>
            <select name="" id="" v-model="strength" @change="show_strength">
                <option value="C15">C15</option>
                <option value="C20">C20</option>
                <option value="C25">C25</option>
                <option value="C30">C30</option>
                <option value="C35">C35</option>
                <option value="C40">C40</option>
                <option value="C45">C45</option>
                <option value="C50">C50</option>
                <option value="C55">C55</option>
                <option value="C60">C60</option>
                <option value="C65">C65</option>
                <option value="C70">C70</option>
                <option value="C75">C75</option>
                <option value="C80">C80</option>


            </select>

            <span id="">&#160&#160&#160 钢筋种类: </span>
            <select name="" id="" v-model="aSteelBar" @change="show_aSteelBar">
                <option value="HRB300">HRB300</option>
                <option value="HRB400">HRB400</option>
            </select>
            </div>
        
        </div>


        <div >
            <h3>生成参数:</h3>
            <div >
                <span>混凝土强度:&#160{{strength}} ---> </span>   
                <span>fc = {{fc}} ;  </span>
                <span>ft = {{ft}}</span>

                <br>

                <span>钢筋种类: &#160{{aSteelBar}} ---> </span>
                <span>fy =  {{fy}} ;  </span>
                <span>fy' = {{fy_}} ;  </span>

            </div>

            <div>
                <input type="button" value="开始计算">
                <a href="main.html"><input type="button" value="重置参数"></a>
            </div>
            
        </div>


        <hr>
        <div id="result">
            <h3>计算结果:</h3>
        </div>
    </div>
    
</body>
<script>
    // 钢筋强度表
    
    var aSteelBar_tb = {
        "hrb400": 2
    }
    var hrb400_tb = {
        "fy": 360,
        "fy_": 360
    }

    function select_aSteelBar_tb(name){
        // 查询是哪个表并赋值
        if (name == "HRB400"){
            fy = hrb400_tb["fy"]
            fy_ = hrb400_tb["fy_"]
            return {"res_fy": fy, "res_fy_": fy_}
        }else{
            return {"res_fy": 'null', "res_fy_": 'null'}
        }
        // 返回字典
        
    }

    // 混凝土强度表
    var strength_tb = {
        // c15
        "C15fc": 7.2,
        "C15ft": 0.91,
        // c20
        "C20fc": 9.6,
        "C20ft": 1.10,
        // c25
        "C25fc": 11.9,
        "C25ft": 1.27,
        // c30
        "C30fc": 14.3,
        "C30ft": 1.43,
        // c35
        "C35fc": 16.7,
        "C35ft": 1.57,
        // c40
        "C40fc": 19.1,
        "C40ft": 1.71,
        // c45
        "C45fc": 21.2,
        "C45ft": 1.80,
        // c50
        "C50fc": 23.1,
        "C50ft": 1.89,
        // c55
        "C55fc": 25.3,
        "C55ft": 1.96,
        // c60
        "C60fc": 27.5,
        "C60ft": 2.04,
        // c65
        "C65fc": 29.7,
        "C65ft": 2.09,
        // c70
        "C70fc": 31.8,
        "C70ft": 2.14,
        // c75
        "C75fc": 33.8,
        "C75ft": 2.18,
        // c80
        "C80fc": 35.9,
        "C80ft": 2.22,

    }
    

    function select_strength_tb(name){
        
        fy = strength_tb[name + "fc"]
        fy_ = strength_tb[name + "ft"]
        return {"res_fc": fy, "res_ft": fy_}

        
    }

    // vue框架
    var vm = new Vue({
        el: '#app',
        data: {
            strength: 'null',
            aSteelBar: "null",
            fy: 'null',
            fy_: 'null',
            fc: 'null',
            ft: 'null'
        },

        methods: {
            // 查询fc, ft并显示
            show_strength(){
                
                this.fc = select_strength_tb(this.strength)["res_fc"]
                this.ft = select_strength_tb(this.strength)["res_ft"]
                
                
            },
            // 查询fy并显示
            show_aSteelBar(){
                this.fy = select_aSteelBar_tb(this.aSteelBar)["res_fy"]
                this.fy_ = select_aSteelBar_tb(this.aSteelBar)["res_fy_"]
            }
        },
    })
</script>
</html>